"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CachedTokenStore = void 0;
var token_1 = require("./token");
var CachedTokenStore = /** @class */ (function () {
    function CachedTokenStore(cache) {
        this.cache = cache;
    }
    CachedTokenStore.prototype.getToken = function () {
        var data = this.cache.get();
        if (data === null) {
            return null;
        }
        try {
            return token_1.Token.parse(data);
        }
        catch (error) {
            return null;
        }
    };
    CachedTokenStore.prototype.setToken = function (token) {
        if (token === null) {
            this.cache.clear();
            return;
        }
        this.cache.put(token.toString());
    };
    return CachedTokenStore;
}());
exports.CachedTokenStore = CachedTokenStore;
