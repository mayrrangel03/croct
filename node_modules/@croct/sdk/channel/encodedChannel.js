"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EncodedChannel = void 0;
var EncodedChannel = /** @class */ (function () {
    function EncodedChannel(channel, encoder) {
        this.channel = channel;
        this.encode = encoder;
    }
    EncodedChannel.prototype.publish = function (message) {
        var _this = this;
        return this.encode(message).then((function (result) { return _this.channel.publish(result); }));
    };
    EncodedChannel.prototype.close = function () {
        return this.channel.close();
    };
    return EncodedChannel;
}());
exports.EncodedChannel = EncodedChannel;
