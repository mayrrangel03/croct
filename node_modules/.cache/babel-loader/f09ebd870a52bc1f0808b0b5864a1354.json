{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SandboxChannel = void 0;\n\nvar SandboxChannel =\n/** @class */\nfunction () {\n  function SandboxChannel() {\n    this.listeners = [];\n    this.messages = [];\n    this.closed = false;\n  }\n\n  SandboxChannel.prototype.publish = function (message) {\n    this.messages.push(message);\n    return Promise.resolve();\n  };\n\n  SandboxChannel.prototype.notify = function (message) {\n    this.listeners.forEach(function (dispatch) {\n      return dispatch(message);\n    });\n  };\n\n  SandboxChannel.prototype.subscribe = function (listener) {\n    if (!this.listeners.includes(listener)) {\n      this.listeners.push(listener);\n    }\n  };\n\n  SandboxChannel.prototype.unsubscribe = function (listener) {\n    var index = this.listeners.indexOf(listener);\n\n    if (index >= 0) {\n      this.listeners.splice(index, 1);\n    }\n  };\n\n  SandboxChannel.prototype.close = function () {\n    this.closed = true;\n    return Promise.resolve();\n  };\n\n  SandboxChannel.prototype.isClosed = function () {\n    return this.closed;\n  };\n\n  return SandboxChannel;\n}();\n\nexports.SandboxChannel = SandboxChannel;","map":{"version":3,"names":["Object","defineProperty","exports","value","SandboxChannel","listeners","messages","closed","prototype","publish","message","push","Promise","resolve","notify","forEach","dispatch","subscribe","listener","includes","unsubscribe","index","indexOf","splice","close","isClosed"],"sources":["C:/Users/User/croct/node_modules/@croct/sdk/channel/sandboxChannel.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SandboxChannel = void 0;\nvar SandboxChannel = /** @class */ (function () {\n    function SandboxChannel() {\n        this.listeners = [];\n        this.messages = [];\n        this.closed = false;\n    }\n    SandboxChannel.prototype.publish = function (message) {\n        this.messages.push(message);\n        return Promise.resolve();\n    };\n    SandboxChannel.prototype.notify = function (message) {\n        this.listeners.forEach(function (dispatch) { return dispatch(message); });\n    };\n    SandboxChannel.prototype.subscribe = function (listener) {\n        if (!this.listeners.includes(listener)) {\n            this.listeners.push(listener);\n        }\n    };\n    SandboxChannel.prototype.unsubscribe = function (listener) {\n        var index = this.listeners.indexOf(listener);\n        if (index >= 0) {\n            this.listeners.splice(index, 1);\n        }\n    };\n    SandboxChannel.prototype.close = function () {\n        this.closed = true;\n        return Promise.resolve();\n    };\n    SandboxChannel.prototype.isClosed = function () {\n        return this.closed;\n    };\n    return SandboxChannel;\n}());\nexports.SandboxChannel = SandboxChannel;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,cAAR,GAAyB,KAAK,CAA9B;;AACA,IAAIA,cAAc;AAAG;AAAe,YAAY;EAC5C,SAASA,cAAT,GAA0B;IACtB,KAAKC,SAAL,GAAiB,EAAjB;IACA,KAAKC,QAAL,GAAgB,EAAhB;IACA,KAAKC,MAAL,GAAc,KAAd;EACH;;EACDH,cAAc,CAACI,SAAf,CAAyBC,OAAzB,GAAmC,UAAUC,OAAV,EAAmB;IAClD,KAAKJ,QAAL,CAAcK,IAAd,CAAmBD,OAAnB;IACA,OAAOE,OAAO,CAACC,OAAR,EAAP;EACH,CAHD;;EAIAT,cAAc,CAACI,SAAf,CAAyBM,MAAzB,GAAkC,UAAUJ,OAAV,EAAmB;IACjD,KAAKL,SAAL,CAAeU,OAAf,CAAuB,UAAUC,QAAV,EAAoB;MAAE,OAAOA,QAAQ,CAACN,OAAD,CAAf;IAA2B,CAAxE;EACH,CAFD;;EAGAN,cAAc,CAACI,SAAf,CAAyBS,SAAzB,GAAqC,UAAUC,QAAV,EAAoB;IACrD,IAAI,CAAC,KAAKb,SAAL,CAAec,QAAf,CAAwBD,QAAxB,CAAL,EAAwC;MACpC,KAAKb,SAAL,CAAeM,IAAf,CAAoBO,QAApB;IACH;EACJ,CAJD;;EAKAd,cAAc,CAACI,SAAf,CAAyBY,WAAzB,GAAuC,UAAUF,QAAV,EAAoB;IACvD,IAAIG,KAAK,GAAG,KAAKhB,SAAL,CAAeiB,OAAf,CAAuBJ,QAAvB,CAAZ;;IACA,IAAIG,KAAK,IAAI,CAAb,EAAgB;MACZ,KAAKhB,SAAL,CAAekB,MAAf,CAAsBF,KAAtB,EAA6B,CAA7B;IACH;EACJ,CALD;;EAMAjB,cAAc,CAACI,SAAf,CAAyBgB,KAAzB,GAAiC,YAAY;IACzC,KAAKjB,MAAL,GAAc,IAAd;IACA,OAAOK,OAAO,CAACC,OAAR,EAAP;EACH,CAHD;;EAIAT,cAAc,CAACI,SAAf,CAAyBiB,QAAzB,GAAoC,YAAY;IAC5C,OAAO,KAAKlB,MAAZ;EACH,CAFD;;EAGA,OAAOH,cAAP;AACH,CAhCmC,EAApC;;AAiCAF,OAAO,CAACE,cAAR,GAAyBA,cAAzB"},"metadata":{},"sourceType":"script"}