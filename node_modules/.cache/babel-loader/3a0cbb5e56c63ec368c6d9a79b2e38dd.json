{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserPatch = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar activeRecord_1 = require(\"../activeRecord\");\n\nvar UserPatch =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(UserPatch, _super);\n\n  function UserPatch(tracker) {\n    var _this = _super.call(this) || this;\n\n    _this.tracker = tracker;\n    return _this;\n  }\n\n  UserPatch.prototype.save = function () {\n    if (!this.isDirty()) {\n      // Empty patch\n      return Promise.resolve({\n        type: 'userProfileChanged',\n        patch: {\n          operations: []\n        }\n      });\n    }\n\n    var promise = this.tracker.track({\n      type: 'userProfileChanged',\n      patch: this.buildPatch()\n    });\n    this.reset();\n    return promise;\n  };\n\n  return UserPatch;\n}(activeRecord_1.ActiveRecord);\n\nexports.UserPatch = UserPatch;","map":{"version":3,"names":["Object","defineProperty","exports","value","UserPatch","tslib_1","require","activeRecord_1","_super","__extends","tracker","_this","call","prototype","save","isDirty","Promise","resolve","type","patch","operations","promise","track","buildPatch","reset","ActiveRecord"],"sources":["C:/Users/User/croct/node_modules/@croct/sdk/facade/userPatch.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UserPatch = void 0;\nvar tslib_1 = require(\"tslib\");\nvar activeRecord_1 = require(\"../activeRecord\");\nvar UserPatch = /** @class */ (function (_super) {\n    tslib_1.__extends(UserPatch, _super);\n    function UserPatch(tracker) {\n        var _this = _super.call(this) || this;\n        _this.tracker = tracker;\n        return _this;\n    }\n    UserPatch.prototype.save = function () {\n        if (!this.isDirty()) {\n            // Empty patch\n            return Promise.resolve({\n                type: 'userProfileChanged',\n                patch: { operations: [] },\n            });\n        }\n        var promise = this.tracker.track({\n            type: 'userProfileChanged',\n            patch: this.buildPatch(),\n        });\n        this.reset();\n        return promise;\n    };\n    return UserPatch;\n}(activeRecord_1.ActiveRecord));\nexports.UserPatch = UserPatch;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,SAAR,GAAoB,KAAK,CAAzB;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIC,cAAc,GAAGD,OAAO,CAAC,iBAAD,CAA5B;;AACA,IAAIF,SAAS;AAAG;AAAe,UAAUI,MAAV,EAAkB;EAC7CH,OAAO,CAACI,SAAR,CAAkBL,SAAlB,EAA6BI,MAA7B;;EACA,SAASJ,SAAT,CAAmBM,OAAnB,EAA4B;IACxB,IAAIC,KAAK,GAAGH,MAAM,CAACI,IAAP,CAAY,IAAZ,KAAqB,IAAjC;;IACAD,KAAK,CAACD,OAAN,GAAgBA,OAAhB;IACA,OAAOC,KAAP;EACH;;EACDP,SAAS,CAACS,SAAV,CAAoBC,IAApB,GAA2B,YAAY;IACnC,IAAI,CAAC,KAAKC,OAAL,EAAL,EAAqB;MACjB;MACA,OAAOC,OAAO,CAACC,OAAR,CAAgB;QACnBC,IAAI,EAAE,oBADa;QAEnBC,KAAK,EAAE;UAAEC,UAAU,EAAE;QAAd;MAFY,CAAhB,CAAP;IAIH;;IACD,IAAIC,OAAO,GAAG,KAAKX,OAAL,CAAaY,KAAb,CAAmB;MAC7BJ,IAAI,EAAE,oBADuB;MAE7BC,KAAK,EAAE,KAAKI,UAAL;IAFsB,CAAnB,CAAd;IAIA,KAAKC,KAAL;IACA,OAAOH,OAAP;EACH,CAdD;;EAeA,OAAOjB,SAAP;AACH,CAvB8B,CAuB7BG,cAAc,CAACkB,YAvBc,CAA/B;;AAwBAvB,OAAO,CAACE,SAAR,GAAoBA,SAApB"},"metadata":{},"sourceType":"script"}