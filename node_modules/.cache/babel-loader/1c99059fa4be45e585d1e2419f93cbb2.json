{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CachedTokenStore = void 0;\n\nvar token_1 = require(\"./token\");\n\nvar CachedTokenStore =\n/** @class */\nfunction () {\n  function CachedTokenStore(cache) {\n    this.cache = cache;\n  }\n\n  CachedTokenStore.prototype.getToken = function () {\n    var data = this.cache.get();\n\n    if (data === null) {\n      return null;\n    }\n\n    try {\n      return token_1.Token.parse(data);\n    } catch (error) {\n      return null;\n    }\n  };\n\n  CachedTokenStore.prototype.setToken = function (token) {\n    if (token === null) {\n      this.cache.clear();\n      return;\n    }\n\n    this.cache.put(token.toString());\n  };\n\n  return CachedTokenStore;\n}();\n\nexports.CachedTokenStore = CachedTokenStore;","map":{"version":3,"names":["Object","defineProperty","exports","value","CachedTokenStore","token_1","require","cache","prototype","getToken","data","get","Token","parse","error","setToken","token","clear","put","toString"],"sources":["C:/Users/User/croct/node_modules/@croct/sdk/token/cachedTokenStore.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CachedTokenStore = void 0;\nvar token_1 = require(\"./token\");\nvar CachedTokenStore = /** @class */ (function () {\n    function CachedTokenStore(cache) {\n        this.cache = cache;\n    }\n    CachedTokenStore.prototype.getToken = function () {\n        var data = this.cache.get();\n        if (data === null) {\n            return null;\n        }\n        try {\n            return token_1.Token.parse(data);\n        }\n        catch (error) {\n            return null;\n        }\n    };\n    CachedTokenStore.prototype.setToken = function (token) {\n        if (token === null) {\n            this.cache.clear();\n            return;\n        }\n        this.cache.put(token.toString());\n    };\n    return CachedTokenStore;\n}());\nexports.CachedTokenStore = CachedTokenStore;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,gBAAR,GAA2B,KAAK,CAAhC;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIF,gBAAgB;AAAG;AAAe,YAAY;EAC9C,SAASA,gBAAT,CAA0BG,KAA1B,EAAiC;IAC7B,KAAKA,KAAL,GAAaA,KAAb;EACH;;EACDH,gBAAgB,CAACI,SAAjB,CAA2BC,QAA3B,GAAsC,YAAY;IAC9C,IAAIC,IAAI,GAAG,KAAKH,KAAL,CAAWI,GAAX,EAAX;;IACA,IAAID,IAAI,KAAK,IAAb,EAAmB;MACf,OAAO,IAAP;IACH;;IACD,IAAI;MACA,OAAOL,OAAO,CAACO,KAAR,CAAcC,KAAd,CAAoBH,IAApB,CAAP;IACH,CAFD,CAGA,OAAOI,KAAP,EAAc;MACV,OAAO,IAAP;IACH;EACJ,CAXD;;EAYAV,gBAAgB,CAACI,SAAjB,CAA2BO,QAA3B,GAAsC,UAAUC,KAAV,EAAiB;IACnD,IAAIA,KAAK,KAAK,IAAd,EAAoB;MAChB,KAAKT,KAAL,CAAWU,KAAX;MACA;IACH;;IACD,KAAKV,KAAL,CAAWW,GAAX,CAAeF,KAAK,CAACG,QAAN,EAAf;EACH,CAND;;EAOA,OAAOf,gBAAP;AACH,CAxBqC,EAAtC;;AAyBAF,OAAO,CAACE,gBAAR,GAA2BA,gBAA3B"},"metadata":{},"sourceType":"script"}